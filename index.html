<!DOCTYPE html>
<html lang="en" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Memória</title>

</head>
<body style="background-color: cadetblue; margin: 0; border: 0; padding: 0;" >
    <div style="background-color: cornsilk; width:auto; height: auto;">        
        <center><h1 style="margin-block-start: 0;"> Jogo da Memória </h1></center>
        <center><button onclick="shuffle(id)" style="background-color: cornlisk; color: black; width: 150px;" id="btn"> Embralha </button>
        <a href="/index.html"><button onclick="mostra()" style="background-color: cornlisk; color: black; width: 150px;"> Reiniciar </button></a></center>
        <br>
    </div>
    <script>
        let ids_btn= [2];//Váriaveis globais.
        let ids_volta= [2];
        let confere= [2];
        let conf_aux= 0;
        let array = [];
        array = ['1.jpg', '2.jpg', '3.jpg', '4.jpg', '5.jpg', '6.jpg', '7.jpg', '8.jpg', '9.jpg', '10.jpg', '11.jpg', '12.jpg', '13.jpg', '14.jpg', '15.jpg', '16.jpg', '17.jpg', '18.jpg', '19.jpg', '20.jpg', '21.jpg', '22.jpg', '23.jpg', '24.jpg'];
        function shuffle(id) {
            var aux= document.getElementById(id).style.display="none";
            var currentIndex = array.length, temporaryValue, randomIndex;
            while (0 !== currentIndex) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            for(var aux_ini=1 ; aux_ini<=24; aux_ini++){  
                var img = document.getElementById(aux_ini);
                img.setAttribute('src', 'frente.jpg');
            }
            console.log(array);
        }
        function mostra(){
            console.log(array);
        }
        function myFunction(id){
            var db_aux= document.getElementById(id);
            //db_aux.onclick= false;
            var aux_img= id-1;
            confere[conf_aux]= array[aux_img];
            ids_volta[conf_aux]= id;
            conf_aux++;
            var img = document.getElementById(id);
            img.setAttribute('src', array[aux_img]);
            if(conf_aux==2){
                if(confere[0]=='1.jpg' && confere[1]=='2.jpg' || confere[1]=='1.jpg' && confere[0]=='2.jpg'  ||  confere[0]=='3.jpg' && confere[1]=='4.jpg' || confere[1]=='3.jpg' && confere[0]=='4.jpg'  ||  confere[0]=='5.jpg' && confere[1]=='6.jpg' || confere[1]=='5.jpg' && confere[0]=='6.jpg'  ||  confere[0]=='7.jpg' && confere[1]=='8.jpg' || confere[1]=='7.jpg' && confere[0]=='8.jpg'  ||  confere[0]=='9.jpg' && confere[1]=='10.jpg' || confere[1]=='9.jpg' && confere[0]=='10.jpg'  ||  confere[0]=='11.jpg' && confere[1]=='12.jpg' || confere[1]=='11.jpg' && confere[0]=='12.jpg'  ||  confere[0]=='13.jpg' && confere[1]=='14.jpg' || confere[1]=='13.jpg' && confere[0]=='14.jpg'  ||  confere[0]=='15.jpg' && confere[1]=='16.jpg' || confere[1]=='15.jpg' && confere[0]=='16.jpg'  ||  confere[0]=='17.jpg' && confere[1]=='18.jpg' || confere[1]=='17.jpg' && confere[0]=='18.jpg'  ||  confere[0]=='19.jpg' && confere[1]=='20.jpg' || confere[1]=='19.jpg' && confere[0]=='20.jpg'  ||  confere[0]=='21.jpg' && confere[1]=='22.jpg' || confere[1]=='21.jpg' && confere[0]=='22.jpg'  ||  confere[0]=='23.jpg' && confere[1]=='24.jpg' || confere[1]=='23.jpg' && confere[0]=='24.jpg'){
                    document.getElementById('success_log').style.display="inline";
                    conf_aux= 0;
                    mostra();
                    setTimeout(()=> 
                    {
                        document.getElementById('success_log').style.display="none";
                    }, 1000);
                    var db_aux= document.getElementById(ids_volta[0]);
                    db_aux.onclick= false;
                    var db_aux= document.getElementById(ids_volta[1]);
                    db_aux.onclick= false;
                }
                else{
                    document.getElementById('error_log').style.display="inline";
                    conf_aux= 0;
                    setTimeout(()=> 
                    {
                        tryagain(id);
                    }, 1000);
                    /*setTimeout(tryagain(), 5000);
                    var img = document.getElementById(ids_volta[0]);
                    img.setAttribute('src', 'frente.jpg');
                    var img = document.getElementById(ids_volta[1]);
                    img.setAttribute('src', 'frente.jpg');*/
                }
            }
        }
        function tryagain(id){
            var img = document.getElementById(ids_volta[0]);
            img.setAttribute('src', 'frente.jpg');
            var img = document.getElementById(ids_volta[1]);
            img.setAttribute('src', 'frente.jpg');
            //var db_aux= document.getElementById(ids_volta[0]);
            //db_aux.onclick= true;
            //var db_aux= document.getElementById(ids_volta[1]);
            //db_aux.onclick= true;
            document.getElementById('error_log').style.display="none";
            /*document.getElementById(ids_btn[0]).disabled = false; 
            document.getElementById(ids_btn[1]).disabled = false;*/ 
        }
        function desbilitar(id){
            ids_btn[conf_aux]= id;
            /*document.getElementById(id).disabled = true;*/
        }
    </script>
    <div>
        <p id="p">
            <center><table>
                <tr>
                    <td><button id="btn1" onclick="desbilitar(id)"><img src="1.jpg" alt="img" id="1" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn2" onclick="desbilitar(id)"><img src="2.jpg" alt="img" id="2" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn3" onclick="desbilitar(id)"><img src="3.jpg" alt="img" id="3" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn4" onclick="desbilitar(id)"><img src="4.jpg" alt="img" id="4" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn5" onclick="desbilitar(id)"><img src="5.jpg" alt="img" id="5" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn6" onclick="desbilitar(id)"><img src="6.jpg" alt="img" id="6" style="width: 120px;" onclick="myFunction(id)"></button></td>
                </tr>
            
                <tr>
                    <td><button id="btn7" onclick="desbilitar(id)"><img src="7.jpg" alt="img" id="7" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn8" onclick="desbilitar(id)"><img src="8.jpg" alt="img" id="8" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn9" onclick="desbilitar(id)"><img src="9.jpg" alt="img" id="9" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn10" onclick="desbilitar(id)"><img src="10.jpg" alt="img" id="10" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn11" onclick="desbilitar(id)"><img src="11.jpg" alt="img" id="11" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn12" onclick="desbilitar(id)"><img src="12.jpg" alt="img" id="12" style="width: 120px;" onclick="myFunction(id)"></button></td>
                </tr>

                <tr>    
                    <td><button id="btn13" onclick="desbilitar(id)"><img src="13.jpg" alt="img" id="13" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn14" onclick="desbilitar(id)"><img src="14.jpg" alt="img" id="14" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn15" onclick="desbilitar(id)"><img src="15.jpg" alt="img" id="15" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn16" onclick="desbilitar(id)"><img src="16.jpg" alt="img" id="16" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn17" onclick="desbilitar(id)"><img src="17.jpg" alt="img" id="17" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn18" onclick="desbilitar(id)"><img src="18.jpg" alt="img" id="18" style="width: 120px;" onclick="myFunction(id)"></button></td>
                </tr>

                <tr>
                    <td><button id="btn19" onclick="desbilitar(id)"><img src="19.jpg" alt="img" id="19" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn20" onclick="desbilitar(id)"><img src="20.jpg" alt="img" id="20" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn21" onclick="desbilitar(id)"><img src="21.jpg" alt="img" id="21" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn22" onclick="desbilitar(id)"><img src="22.jpg" alt="img" id="22" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn23" onclick="desbilitar(id)"><img src="23.jpg" alt="img" id="23" style="width: 120px;" onclick="myFunction(id)"></button></td>
                    <td><button id="btn24" onclick="desbilitar(id)"><img src="24.jpg" alt="img" id="24" style="width: 120px;" onclick="myFunction(id)"></button></td>
                </tr>
            </table></center>

        </p> 
    </div>
    <br>
    <div id="error_log" style="background-color: red; color: black; width: 100%; height: auto; display: none; text-align: center; font-size: 25px; position: absolute;">
        <div>
            <h1>Errou! Tente Novamente.</h1>
        </div>
    </div>
    <div id="success_log" style="background-color: royalblue; color: black; width: 100%; height: auto; display: none; text-align: center; font-size: 25px; position: absolute;">
        <h1>Parabéns! Você acertou!</h1>
    </div>
</body>
</html>